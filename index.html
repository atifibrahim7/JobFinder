<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Job-Finder UML Diagram Viewer</title>
    <script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background-color: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .editor-container {
            display: flex;
            gap: 20px;
            margin-bottom: 20px;
        }
        .input-section {
            flex: 1;
            max-width: 25%;
        }
        .preview-section {
            flex: 3;
        }
        textarea {
            width: 100%;
            height: 300px;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-family: monospace;
            resize: vertical;
            background-color: #f8f8f8;
        }
        textarea:disabled {
            opacity: 1;
            cursor: not-allowed;
        }
        .controls {
            margin-bottom: 20px;
            display: flex;
            gap: 10px;
        }
        button {
            padding: 8px 16px;
            background-color: #4CAF50;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }
        button:hover {
            background-color: #45a049;
        }
        .preview-container {
            border: 1px solid #ddd;
            padding: 20px;
            border-radius: 4px;
            min-height: 300px;
            overflow: auto;
        }
        .zoom-controls {
            margin-top: 10px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Job-Finder UML Diagram Viewer</h1>
        <div class="controls">
            <button onclick="renderDiagram()">Render Diagram</button>
            <div class="zoom-controls">
                <button onclick="zoomIn()">Zoom In</button>
                <button onclick="zoomOut()">Zoom Out</button>
                <button onclick="resetZoom()">Reset Zoom</button>
            </div>
        </div>
        <div class="editor-container">
            <div class="input-section">
                <h3>Mermaid Code</h3>
                <textarea id="mermaidCode" disabled>flowchart TD
    %% Application Entry Point
    Main["Main.java (Entry Point)"]:::entry

    %% UI Layer Subgraph
    subgraph "UI Layer"
        UI_Folder["UI FXML Views"]:::uiFolder
        Login["login.fxml\n(Login Screen)"]:::ui
        EmployerDashboard["employerDashboard.fxml\n(Employer Dashboard)"]:::ui
        AddVacancy["AddVacancy.fxml\n(Add Vacancy)"]:::ui
        JobDetails["JobDetails.fxml\n(Job Details)"]:::ui
        JobVacancies["JobVacancies.fxml\n(Vacancy Listing)"]:::ui
        ManageVacancy["ManageVacancy.fxml\n(Vacancy Management)"]:::ui
        ResumeBuilder["ResumeBuilder.fxml\n(Resume Builder)"]:::ui
        ViewCompanies["ViewCompanies.fxml\n(View Companies)"]:::ui
        ViewEndorsements["ViewEndorsements.fxml\n(View Endorsements)"]:::ui
        ViewJobHunters["ViewJobHunters.fxml\n(View JobHunters)"]:::ui
        RecruiterApplication["recruiterApplication.fxml\n(Recruiter Application)"]:::ui
        RecruiterProfile["recruiteraccount.fxml\n(Recruiter Profile)"]:::ui
        JobhunterApplications["registerJH.fxml\n(Jobhunter Applications)"]:::ui
        UICss["application.css\n(UI Styling)"]:::ui
    end

    %% Controllers Subgraph
    subgraph "Controllers"
        AccountController["AccountController\n(Manages account)"]:::controller
        AddVacancyController["AddVacancyController\n(Handles vacancy addition)"]:::controller
        EmployerDashboardController["EmployerDashboardController\n(Manages dashboard)"]:::controller
        JobDetailsController["JobDetailsController\n(Manages job details)"]:::controller
        JobVacanciesController["JobVacanciesController\n(Handles vacancy listing)"]:::controller
        JobhunterApplicationsController["JobhunterApplicationsController\n(Manages applications)"]:::controller
        ManageVacanciesController["ManageVacanciesController\n(Manages vacancies)"]:::controller
        RecruiterApplicationController["RecruiterApplicationController\n(Handles recruiter applications)"]:::controller
        RecruiterProfileController["RecruiterProfileController\n(Manages recruiter profile)"]:::controller
        ResumeBuilderController["ResumeBuilderController\n(Manages resume builder)"]:::controller
        ViewCompaniesController["ViewCompaniesController\n(Handles viewing companies)"]:::controller
        ViewEndorsementsController["ViewEndorsementsController\n(Handles viewing endorsements)"]:::controller
        ViewJobHuntersController["ViewJobHuntersController\n(Handles viewing jobhunters)"]:::controller
        GiveEndorsementController["giveEndorsementController\n(Handles endorsements)"]:::controller
    end

    %% Data Access and Session Management
    DBHandler["DBHandler.java\n(Data Access Layer)"]:::database
    UserSession["UserSession.java\n(Session Manager)"]:::session
    OtherClasses["OtherClasses.java\n(Supporting Logic)"]:::support

    %% Application Flow

    %% Main launches UI Layer
    Main -->|"launches"| UI_Folder

    %% UI Folder routes to individual FXML views
    UI_Folder -->|"displays"| Login
    UI_Folder -->|"displays"| EmployerDashboard
    UI_Folder -->|"displays"| AddVacancy
    UI_Folder -->|"displays"| JobDetails
    UI_Folder -->|"displays"| JobVacancies
    UI_Folder -->|"displays"| ManageVacancy
    UI_Folder -->|"displays"| ResumeBuilder
    UI_Folder -->|"displays"| ViewCompanies
    UI_Folder -->|"displays"| ViewEndorsements
    UI_Folder -->|"displays"| ViewJobHunters
    UI_Folder -->|"displays"| RecruiterApplication
    UI_Folder -->|"displays"| RecruiterProfile
    UI_Folder -->|"displays"| JobhunterApplications

    %% UI views trigger corresponding Controllers
    Login -->|"handles"| AccountController
    EmployerDashboard -->|"handles"| EmployerDashboardController
    AddVacancy -->|"handles"| AddVacancyController
    JobDetails -->|"handles"| JobDetailsController
    JobVacancies -->|"handles"| JobVacanciesController
    ManageVacancy -->|"handles"| ManageVacanciesController
    ResumeBuilder -->|"handles"| ResumeBuilderController
    ViewCompanies -->|"handles"| ViewCompaniesController
    ViewEndorsements -->|"handles"| ViewEndorsementsController
    ViewJobHunters -->|"handles"| ViewJobHuntersController
    RecruiterApplication -->|"handles"| RecruiterApplicationController
    RecruiterProfile -->|"handles"| RecruiterProfileController
    JobhunterApplications -->|"handles"| JobhunterApplicationsController

    %% Additional Controller interaction for endorsements
    ViewEndorsementsController -->|"initiates"| GiveEndorsementController

    %% Aggregate Controllers Group for backend interaction
    %% (Invisible aggregator for clarity and reducing arrow clutter)
    ControllersGroup[("Controllers Group")]:::controller
    AccountController --> ControllersGroup
    AddVacancyController --> ControllersGroup
    EmployerDashboardController --> ControllersGroup
    JobDetailsController --> ControllersGroup
    JobVacanciesController --> ControllersGroup
    JobhunterApplicationsController --> ControllersGroup
    ManageVacanciesController --> ControllersGroup
    RecruiterApplicationController --> ControllersGroup
    RecruiterProfileController --> ControllersGroup
    ResumeBuilderController --> ControllersGroup
    ViewCompaniesController --> ControllersGroup
    ViewEndorsementsController --> ControllersGroup
    ViewJobHuntersController --> ControllersGroup
    GiveEndorsementController --> ControllersGroup

    %% Controllers interact with Persistence and Session Management
    ControllersGroup -->|"DBCalls"| DBHandler
    ControllersGroup -->|"session"| UserSession

    %% Optional supporting logic link (if used by controllers)
    ControllersGroup -->|"utilizes"| OtherClasses

    %% Styles
    classDef entry fill:#ADD8E6,stroke:#000,stroke-width:1px;
    classDef ui fill:#FFF2CC,stroke:#000,stroke-width:1px;
    classDef uiFolder fill:#F9CB9C,stroke:#000,stroke-width:1px;
    classDef controller fill:#FFD966,stroke:#000,stroke-width:1px;
    classDef database fill:#C6EFCE,stroke:#000,stroke-width:1px;
    classDef session fill:#D9D2E9,stroke:#000,stroke-width:1px;
    classDef support fill:#E2EFDA,stroke:#000,stroke-width:1px;

    %% Click Events
    click Main "https://github.com/atifibrahim7/jobfinder/blob/main/Main.java"
    click UserSession "https://github.com/atifibrahim7/jobfinder/blob/main/UserSession.java"
    click DBHandler "https://github.com/atifibrahim7/jobfinder/blob/main/DBHandler.java"
    click AccountController "https://github.com/atifibrahim7/jobfinder/blob/main/AccountController.java"
    click AddVacancyController "https://github.com/atifibrahim7/jobfinder/blob/main/AddVacancyController.java"
    click EmployerDashboardController "https://github.com/atifibrahim7/jobfinder/blob/main/EmployerDashboardController.java"
    click JobDetailsController "https://github.com/atifibrahim7/jobfinder/blob/main/JobDetailsController.java"
    click JobVacanciesController "https://github.com/atifibrahim7/jobfinder/blob/main/JobVacanciesController.java"
    click JobhunterApplicationsController "https://github.com/atifibrahim7/jobfinder/blob/main/JobhunterApplicationsController.java"
    click ManageVacanciesController "https://github.com/atifibrahim7/jobfinder/blob/main/ManageVacanciesController.java"
    click RecruiterApplicationController "https://github.com/atifibrahim7/jobfinder/blob/main/RecruiterApplicationController.java"
    click RecruiterProfileController "https://github.com/atifibrahim7/jobfinder/blob/main/RecruiterProfileController.java"
    click ResumeBuilderController "https://github.com/atifibrahim7/jobfinder/blob/main/ResumeBuilderController.java"
    click ViewCompaniesController "https://github.com/atifibrahim7/jobfinder/blob/main/ViewCompaniesController.java"
    click ViewEndorsementsController "https://github.com/atifibrahim7/jobfinder/blob/main/ViewEndorsementsController.java"
    click ViewJobHuntersController "https://github.com/atifibrahim7/jobfinder/blob/main/ViewJobHuntersController.java"
    click GiveEndorsementController "https://github.com/atifibrahim7/jobfinder/blob/main/giveEndorsementController.java"
    click OtherClasses "https://github.com/atifibrahim7/jobfinder/blob/main/OtherClasses.java"
    click UI_Folder "https://github.com/atifibrahim7/jobfinder/tree/main/userInterface"
    click UICss "https://github.com/atifibrahim7/jobfinder/blob/main/application.css"</textarea>
            </div>
            <div class="preview-section">
                <h3>Preview</h3>
                <div class="preview-container" id="preview"></div>
            </div>
        </div>
    </div>

    <script>
        mermaid.initialize({
            startOnLoad: false,
            theme: 'default',
            securityLevel: 'loose'
        });

        let currentZoom = 1;
        const zoomStep = 0.1;

        function renderDiagram() {
            const code = document.getElementById('mermaidCode').value;
            const preview = document.getElementById('preview');
            
            mermaid.render('mermaid-diagram', code)
                .then(result => {
                    preview.innerHTML = result.svg;
                    applyZoom();
                })
                .catch(err => {
                    preview.innerHTML = `<div style="color: red;">Error: ${err.message}</div>`;
                });
        }

        function zoomIn() {
            currentZoom += zoomStep;
            applyZoom();
        }

        function zoomOut() {
            currentZoom = Math.max(0.1, currentZoom - zoomStep);
            applyZoom();
        }

        function resetZoom() {
            currentZoom = 1;
            applyZoom();
        }

        function applyZoom() {
            const svg = document.querySelector('#preview svg');
            if (svg) {
                svg.style.transform = `scale(${currentZoom})`;
                svg.style.transformOrigin = 'top left';
            }
        }

        // Add mouse wheel zoom functionality
        document.getElementById('preview').addEventListener('wheel', function(e) {
            if (e.ctrlKey) {
                e.preventDefault();
                if (e.deltaY < 0) {
                    zoomIn();
                } else {
                    zoomOut();
                }
            }
        });

        // Initial render
        renderDiagram();
    </script>
</body>
</html> 
